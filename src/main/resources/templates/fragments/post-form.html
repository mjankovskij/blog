<div th:fragment="info-form" th:remove="tag" xmlns:sec="http://www.w3.org/1999/xhtml">

    <form class="form-post-create" sec:authorize="hasRole('ROLE_ADMIN')" th:action="@{/post/create}" th:object="${newPost}" method="post" >
        <input type="hidden"
               class="form-control"
               th:field="*{id}">
        <div class="mb-3">
            <label class="form-label">Title</label>
            <input type="text"
                   class="form-control"
                   th:field="*{title}"
                   th:classappend="${#fields.hasErrors('title')} ? 'is-invalid' : (${newPost.title ne null} ? 'is-valid' : '')">
            <ul th:if="${#fields.hasErrors('title')}" class="invalid-feedback">
                <li th:each="err : ${#fields.errors('title')}" th:text="${err}"></li>
            </ul>
        </div>
        <div class="mb-3">
            <label class="form-label">Description</label>
            <textarea class="form-control"
                      rows="3"
                      th:field="*{description}"
                      th:classappend="${#fields.hasErrors('description')} ? 'is-invalid' : (${newPost.description ne null} ? 'is-valid' : '')">
            </textarea>
            <ul th:if="${#fields.hasErrors('description')}" class="invalid-feedback">
                <li th:each="err : ${#fields.errors('description')}" th:text="${err}"></li>
            </ul>
        </div>
        <div th:if="${success != null}" class="alert alert-success p-1">
            <span th:text="${success}"></span>
        </div>
        <button type="submit" class="btn btn-primary col-">Submit</button>
    </form>
</div>
